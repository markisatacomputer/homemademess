div.navbar.navbar-default.navbar-fixed-top(ng-controller='NavbarCtrl', ng-class="{home: isActive('/')}")
  div.container
    div.navbar-header
      button.navbar-toggle(type='button', ng-click='isCollapsed = !isCollapsed')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar

    div#navbar-main.navbar-collapse.collapse(collapse='isCollapsed')
      ul.nav.navbar-nav
        li.navbar-form(ng-show='isActive("/")' role='search', ng-class='{active: isActive(item.link)}')
          tags-input(ng-model="tags", title="Tags", replace-spaces-with-dashes="false", on-tag-added="redoSearch()", on-tag-removed="redoSearch()")
            auto-complete(source="findTags($query)")
        li.dropdown(ng-show='isAdmin()')
          a.dropdown-toggle(role='button' data-toggle="dropdown" aria-haspopup="true" aria-expanded="false") Do Stuff
            span.caret
          ul.dropdown-menu
            li(ng-repeat='item in menu', ng-class='{active: isActive(item.link)}')
              a(ng-href='{{item.link}}') {{item.title}}

      ul.nav.navbar-nav.navbar-right
        li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/signup")}')
          a(href='/signup') Sign up

        li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/login")}')
          a(href='/login') Login

        li(ng-show='isLoggedIn()')
          p.navbar-text Hello {{ getCurrentUser().name }}

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/settings")}')
          a(href='/settings')
            span.glyphicon.glyphicon-cog

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/logout")}')
          a(href='', ng-click='logout()') Logout
